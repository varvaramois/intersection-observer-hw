// ÑƒÐ²Ð°Ð³Ð°! Ñ‚ÑƒÑ‚ Ð¼ÐµÐ½Ñ– Ð´Ð¾Ð¿Ð¾Ð¼Ð°Ð³Ð°Ð² Ñ‡Ð°Ñ‚Ñ–Ðº Ð³Ð¿Ñ‚, Ñ†Ñ Ñ‡Ð°ÑÑ‚Ð¸Ð½Ð° ÐºÐ¾Ð´Ñƒ Ð²Ñ–Ð´Ð½Ð¾ÑÐ¸Ñ‚ÑŒÑÑ Ð´Ð¾ 7 Ð¿ÑƒÐ½ÐºÑ‚Ñƒ Ð´Ð·, Ñ‚Ð°Ð¼ Ð´Ðµ Ð¿Ñ€Ð¾ÑÑÑ‚ÑŒ Ð´Ð¾Ð´Ð°Ñ‚Ð¸ ÑÐºÑƒÑÑŒ
// Ð°Ð½Ñ–Ð¼Ð°Ñ†Ñ–ÑŽ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ. Ñ Ð·Ð½Ð°Ð¹ÑˆÐ»Ð° Ð² Ñ–Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ñ– Ð´ÐµÑÐºÑ– Ð¿Ñ€Ð¸ÐºÐ»Ð°Ð´Ð¸ ÑÐº Ð·Ð°Ð³Ð°Ð»Ð¾Ð¼ Ð·Ñ€Ð¾Ð±Ð¸Ñ‚Ð¸ Ñ‚Ð°ÐºÐ¸Ð¹ Ð»Ð¾Ð°Ð´ÐµÑ€ Ð¿Ñ€Ð¸ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ– 
// ÑÑ‚Ð¾Ñ€Ñ–Ð½ÐºÐ¸, Ð°Ð»Ðµ Ñ‰Ð¾Ð± ÑÐ°Ð¼Ðµ Ð´Ð»Ñ Ñ„Ð¾Ñ‚ÐºÐ¸ Ð·Ñ€Ð¾Ð±Ð¸Ñ‚Ð¸ Ñ ÑÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð»Ð°ÑÑ Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ð¾ÑŽ Ñ‡Ð°Ñ‚Ð¸ÐºÐ°, ÑˆÐ¾Ð± Ñ‰Ð¾ÑÑŒ Ð·Ñ€Ð¾Ð·ÑƒÐ¼Ñ–Ñ‚Ð¸..
const images = document.querySelectorAll(".list__img"); // Ð·Ð½Ð°Ñ…Ð¾Ð´Ð¶Ñƒ Ñ„Ð¾Ñ‚ÐºÐ¸ Ð·Ð° ÐºÐ»Ð°ÑÐ¾Ð¼
images.forEach((img) => {
  const loader = img.parentElement.querySelector(".loader"); // Ð³Ð¿Ñ‚ Ð·Ð°Ð¿Ñ€Ð¾Ð¿Ð¾Ð½ÑƒÐ²Ð°Ð² Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ñ‚Ð¸ Ñ†Ðµ Ñ‰Ð¾Ð± Ð¿Ñ–Ð·Ð½Ñ–ÑˆÐµ Ð»Ð¾Ð°Ð´ÐµÑ€
  // Ð¿Ñ€Ð¾Ð¿Ð°Ð´Ð°Ð² ÑÐ°Ð¼Ðµ Ð¿Ð¾ Ñ‡ÐµÑ€Ð·Ñ– Ñƒ Ð²Ð¶Ðµ Ð¿Ñ€Ð¾Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð¸Ñ… ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ–Ð², Ð° Ð½Ðµ Ð¾Ð´Ñ€Ð°Ð·Ñƒ Ð² ÑƒÑÑ–Ñ…
  const tempImg = new Image(); // Ð½Ð° Ñ‡Ð°Ñ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ ÑÑ‚Ð²Ð¾Ñ€ÑŽÑ”Ñ‚ÑŒÑÑ Ñ‚Ð¸Ð¼Ñ‡Ð°ÑÐ¾Ð²Ðµ Ñ„Ð¾Ñ‚Ð¾, ÑÐºÐµ Ð½Ðµ Ð²Ñ–Ð´Ð¾Ð±Ñ€Ð°Ð¶Ð°Ñ”Ñ‚ÑŒÑÑ Ð½Ð° ÑÑ‚Ð¾Ñ€Ñ–Ð½Ñ†Ñ–
  tempImg.src = img.getAttribute("data-alt-src"); // Ñ– Ð¿Ñ€Ð¸Ð¹Ð¼Ð°Ñ” Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ñ„Ð¾Ñ‚Ð¾ (Ð½Ð° ÑÐºÐµ Ð¼Ð¸ Ð·Ð¼Ñ–Ð½ÑŽÑ”Ð¼Ð¾)

  tempImg.onload = function () { // Ñ‡ÐµÐºÐ°Ñ”Ð¼Ð¾ Ð½Ð° Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ
    img.src = tempImg.src; // Ð¼Ñ–Ð½ÑÑ”Ð¼Ð¾ Ð¹Ð¾Ð³Ð¾
    img.style.opacity = "1"; // Ð²Ð¾Ð½Ð¾ ÑÑ‚Ð°Ñ” Ð²Ð¸Ð´Ð¸Ð¼Ð¸Ð¼ Ð½Ð° ÑÑ‚Ð¾Ñ€Ñ–Ð½Ñ†Ñ–
    loader.style.display = "none"; // ÑÐºÑ€Ð¸Ð²Ð°Ñ”Ð¼Ð¾ Ð»Ð¾Ð°Ð´ÐµÑ€ - ÐºÑ–Ð½ÐµÑ†ÑŒ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ
  };
});
// ÑÐºÐ¾ÑÑŒ Ñ‚Ð°Ðº ðŸ¦§

function changeImages(elements) {
  elements.forEach((element) => {
    const img = element.target.querySelector("img");
    if (element.isIntersecting) {
      img.src = img.getAttribute("data-alt-src");
    } else {
      img.src = img.getAttribute("src");
    }
  });
}

const observer = new IntersectionObserver(changeImages, {
  threshold: 0.5,
});

const li = document.querySelectorAll(".list__item");
li.forEach((item) => observer.observe(item));
